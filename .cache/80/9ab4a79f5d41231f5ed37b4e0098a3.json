{"id":"tfWZ","dependencies":[{"name":"/Users/cylindo/code/toddle-runtime/tsconfig.json","includedInParent":true,"mtime":1629568165591},{"name":"/Users/cylindo/code/toddle-runtime/package.json","includedInParent":true,"mtime":1629644886881},{"name":"./functions","loc":{"line":1,"column":26},"parent":"/Users/cylindo/code/toddle-runtime/formula/formula.ts","resolved":"/Users/cylindo/code/toddle-runtime/formula/functions.tsx"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.valueToString=exports.applyFormula=exports.isFormula=void 0;var r=require(\"./functions\");function e(r){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(r)}var t=function(r){return\"object\"===e(r)&&r.type};exports.isFormula=t;var n=function(n,o){var u;if(!t(n))return n;switch(n.type){case\"number\":case\"string\":case\"boolean\":return n.value;case\"path\":return n.path.reduce(function(r,t){return r&&\"object\"===e(r)?r[t]:null},o);case\"function\":return null===(u=r.functions[n.name])||void 0===u?void 0:u.resolver(n,o);case\"null\":return null}};exports.applyFormula=n;var o=function r(t){if(null==t)return\"Null\";if(Array.isArray(t))return\"[ \"+t.slice(0,1).map(r)+(t.length>1?\", ...\":\"\")+\" ]\";if(\"object\"===e(t)){var n=Object.keys(t).filter(function(r){return 0!==r.indexOf(\"__\")});return\"{ \"+n.slice(0,3).join(\", \")+(n.length>3?\", ...\":\"\")+\" }\"}return String(t)};exports.valueToString=o;"},"sourceMaps":{"js":{"mappings":[{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":0}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":13}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":20}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":35}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":43}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":56}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":57}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":64}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":68}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":76}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":90}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":98}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":111}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":119}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":134}},{"source":"formula/formula.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"formula/formula.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":140}},{"source":"formula/formula.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":142}},{"source":"formula/formula.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":150}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":165}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":174}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":176}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":179}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":186}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":188}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":207}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":215}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":232}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":239}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":248}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":257}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":260}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":274}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":277}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":286}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":289}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":296}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":299}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":318}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":326}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":328}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":342}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":350}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":354}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":361}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":371}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":387}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":391}},{"source":"formula/formula.ts","name":null,"original":{"line":67,"column":7},"generated":{"line":1,"column":394}},{"source":"formula/formula.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":398}},{"source":"formula/formula.ts","name":null,"original":{"line":67,"column":25},"generated":{"line":1,"column":400}},{"source":"formula/formula.ts","name":null,"original":{"line":67,"column":26},"generated":{"line":1,"column":409}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":9},"generated":{"line":1,"column":412}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":1,"column":418}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":9},"generated":{"line":1,"column":429}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":431}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":34},"generated":{"line":1,"column":435}},{"source":"formula/formula.ts","name":null,"original":{"line":68,"column":36},"generated":{"line":1,"column":437}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":443}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":451}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":461}},{"source":"formula/formula.ts","name":null,"original":{"line":71,"column":7},"generated":{"line":1,"column":463}},{"source":"formula/formula.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":467}},{"source":"formula/formula.ts","name":null,"original":{"line":71,"column":28},"generated":{"line":1,"column":469}},{"source":"formula/formula.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":478}},{"source":"formula/formula.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":1,"column":480}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":483}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":487}},{"source":"formula/formula.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":1,"column":489}},{"source":"formula/formula.ts","name":null,"original":{"line":75,"column":7},"generated":{"line":1,"column":493}},{"source":"formula/formula.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":495}},{"source":"formula/formula.ts","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":498}},{"source":"formula/formula.ts","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":505}},{"source":"formula/formula.ts","name":null,"original":{"line":78,"column":10},"generated":{"line":1,"column":507}},{"source":"formula/formula.ts","name":null,"original":{"line":78,"column":10},"generated":{"line":1,"column":514}},{"source":"formula/formula.ts","name":null,"original":{"line":78,"column":18},"generated":{"line":1,"column":516}},{"source":"formula/formula.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":522}},{"source":"formula/formula.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":526}},{"source":"formula/formula.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":535}},{"source":"formula/formula.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":539}},{"source":"formula/formula.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":548}},{"source":"formula/formula.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":552}},{"source":"formula/formula.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":562}},{"source":"formula/formula.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":569}},{"source":"formula/formula.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":571}},{"source":"formula/formula.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":577}},{"source":"formula/formula.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":581}},{"source":"formula/formula.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":1,"column":588}},{"source":"formula/formula.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":1,"column":595}},{"source":"formula/formula.ts","name":null,"original":{"line":84,"column":21},"generated":{"line":1,"column":597}},{"source":"formula/formula.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":602}},{"source":"formula/formula.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":609}},{"source":"formula/formula.ts","name":null,"original":{"line":85,"column":9},"generated":{"line":1,"column":618}},{"source":"formula/formula.ts","name":null,"original":{"line":85,"column":16},"generated":{"line":1,"column":620}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":1,"column":623}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":1,"column":630}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":36},"generated":{"line":1,"column":633}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":19},"generated":{"line":1,"column":644}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":646}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":47},"generated":{"line":1,"column":649}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":53},"generated":{"line":1,"column":651}},{"source":"formula/formula.ts","name":null,"original":{"line":86,"column":60},"generated":{"line":1,"column":654}},{"source":"formula/formula.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":660}},{"source":"formula/formula.ts","name":null,"original":{"line":89,"column":9},"generated":{"line":1,"column":663}},{"source":"formula/formula.ts","name":null,"original":{"line":89,"column":9},"generated":{"line":1,"column":667}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":1,"column":678}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":685}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":1,"column":693}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":1,"column":695}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":23},"generated":{"line":1,"column":697}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":23},"generated":{"line":1,"column":707}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":31},"generated":{"line":1,"column":709}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":722}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":726}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":733}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":735}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":38},"generated":{"line":1,"column":737}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":47},"generated":{"line":1,"column":746}},{"source":"formula/formula.ts","name":null,"original":{"line":90,"column":56},"generated":{"line":1,"column":748}},{"source":"formula/formula.ts","name":null,"original":{"line":91,"column":9},"generated":{"line":1,"column":751}},{"source":"formula/formula.ts","name":null,"original":{"line":91,"column":9},"generated":{"line":1,"column":755}},{"source":"formula/formula.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":762}},{"source":"formula/formula.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":769}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":776}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":784}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":797}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":799}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":803}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":29},"generated":{"line":1,"column":805}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":814}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":30},"generated":{"line":1,"column":816}},{"source":"formula/formula.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":819}},{"source":"formula/formula.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":822}},{"source":"formula/formula.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":828}},{"source":"formula/formula.ts","name":null,"original":{"line":98,"column":11},"generated":{"line":1,"column":830}},{"source":"formula/formula.ts","name":null,"original":{"line":98,"column":11},"generated":{"line":1,"column":836}},{"source":"formula/formula.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":1,"column":843}},{"source":"formula/formula.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":1,"column":846}},{"source":"formula/formula.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":852}},{"source":"formula/formula.ts","name":null,"original":{"line":100,"column":20},"generated":{"line":1,"column":860}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":863}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":869}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":874}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":876}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":27},"generated":{"line":1,"column":882}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":30},"generated":{"line":1,"column":884}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":33},"generated":{"line":1,"column":887}},{"source":"formula/formula.ts","name":null,"original":{"line":101,"column":37},"generated":{"line":1,"column":891}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":895}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":11},"generated":{"line":1,"column":897}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":904}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":24},"generated":{"line":1,"column":906}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":34},"generated":{"line":1,"column":914}},{"source":"formula/formula.ts","name":null,"original":{"line":102,"column":36},"generated":{"line":1,"column":918}},{"source":"formula/formula.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":923}},{"source":"formula/formula.ts","name":null,"original":{"line":105,"column":22},"generated":{"line":1,"column":926}},{"source":"formula/formula.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":937}},{"source":"formula/formula.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":939}},{"source":"formula/formula.ts","name":null,"original":{"line":105,"column":32},"generated":{"line":1,"column":942}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":943}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":947}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":1,"column":949}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":24},"generated":{"line":1,"column":956}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":29},"generated":{"line":1,"column":961}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":35},"generated":{"line":1,"column":964}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":42},"generated":{"line":1,"column":971}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":43},"generated":{"line":1,"column":980}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":49},"generated":{"line":1,"column":983}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":69},"generated":{"line":1,"column":990}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":49},"generated":{"line":1,"column":994}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":51},"generated":{"line":1,"column":996}},{"source":"formula/formula.ts","name":null,"original":{"line":106,"column":59},"generated":{"line":1,"column":1004}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":1012}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":1018}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":16},"generated":{"line":1,"column":1023}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":21},"generated":{"line":1,"column":1025}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":27},"generated":{"line":1,"column":1031}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":30},"generated":{"line":1,"column":1033}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":33},"generated":{"line":1,"column":1036}},{"source":"formula/formula.ts","name":null,"original":{"line":107,"column":38},"generated":{"line":1,"column":1041}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":1048}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1050}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":20},"generated":{"line":1,"column":1057}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":24},"generated":{"line":1,"column":1059}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":34},"generated":{"line":1,"column":1067}},{"source":"formula/formula.ts","name":null,"original":{"line":108,"column":36},"generated":{"line":1,"column":1071}},{"source":"formula/formula.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1076}},{"source":"formula/formula.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1083}},{"source":"formula/formula.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":1090}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1094}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1102}},{"source":"formula/formula.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1116}}],"sources":{"formula/formula.ts":"import { ReactNode } from \"react\";\nimport { functions } from \"./functions\";\n\nexport type PathOperation = {\n  type: \"path\";\n  name: string;\n  path: string[];\n  description?: ReactNode;\n};\n\nexport type FunctionArgument = {\n  name?: string;\n  formula: Formula;\n};\n\nexport type FunctionOperation = {\n  type: \"function\";\n  name: string;\n  arguments: FunctionArgument[];\n  varArgs?: boolean;\n  description?: ReactNode;\n};\n\nexport type ApplyFunctionOperation = {\n  type: \"apply_function\";\n  functionId: string;\n  name: string;\n  description?: ReactNode;\n};\n\nexport type NumberOperation = {\n  type: \"number\";\n  name: \"Number\";\n  value: number;\n  description?: ReactNode;\n};\n\nexport type StringOperation = {\n  type: \"string\";\n  name: \"String\";\n  value: string;\n  description?: ReactNode;\n};\n\nexport type BooleanOperation = {\n  type: \"boolean\";\n  name: \"Boolean\";\n  value: boolean;\n  description?: ReactNode;\n};\n\nexport type NullOperation = {\n  type: \"null\";\n  name: string;\n  description?: ReactNode;\n};\n\nexport type Formula =\n  | FunctionOperation\n  | PathOperation\n  | NumberOperation\n  | StringOperation\n  | BooleanOperation\n  | NullOperation\n  | ApplyFunctionOperation;\n\nexport const isFormula = (f: any): f is Formula => {\n  return typeof f === \"object\" && f.type;\n};\n\nexport const applyFormula = (\n  formula: Formula | string | number | undefined | boolean,\n  input: any\n): any => {\n  if (!isFormula(formula)) {\n    return formula;\n  }\n  switch (formula.type) {\n    case \"number\":\n    case \"string\":\n    case \"boolean\":\n      return formula.value;\n    case \"path\":\n      return formula.path.reduce(\n        (input, key) =>\n          input && typeof input === \"object\" ? input[key] : null,\n        input\n      );\n    case \"function\":\n      return functions[formula.name]?.resolver(formula, input);\n    case \"null\":\n      return null;\n  }\n};\n\nexport const valueToString = (item: any): string => {\n  if (item === null || item === undefined) {\n    return \"Null\";\n  }\n  if (Array.isArray(item)) {\n    return `[ ${item.slice(0, 1).map(valueToString)}${\n      item.length > 1 ? \", ...\" : \"\"\n    } ]`;\n  }\n  if (typeof item === \"object\") {\n    const keys = Object.keys(item).filter((k) => k.indexOf(\"__\") !== 0);\n    return `{ ${keys.slice(0, 3).join(\", \")}${\n      keys.length > 3 ? \", ...\" : \"\"\n    } }`;\n  }\n  return String(item);\n};\n"},"lineCount":null}},"error":null,"hash":"eb88353ffcda5acf8354e2d62d1bc1db","cacheData":{"env":{}}}